# TODO list

Here are all the things this game is missing to be complete, in priority order from top (highest priority) to bottom (lowest). Feel free to remove them once one of them is done:

- introducing game events - they should be handled so that when something triggers them (can be a timer or some action happening), they apply some effect to the whole game. We are developing this to enab the todo bullet point about classic mode random event. Another event example could be this: in role-based mode, werewolf are buffed as soon as the hollow moon event hits. When it hits, dashboard background color changes and a wolf howling is heard. We don't need to implement this, it's just a hint to make sure you get an idea of what a game event is. I think we should implement it using some lifecycle hooks (e.g. onStart/onEnd/onTick) and by extending a base GameEvent class. In this task the goal is NOT the implementation, it's actually to write a specification file with a proposed architecture. If you cannot choose, please provide multiple solutions in the same file. Also update the next todo bullet point by telling claude to follow the implementation details included in the specification file (and to update docs/tests accordingly)
- implement the previous point with actual code. If you need some event to try out the code and see if it works, feel free to implement the next bullet point
- classic mode should have a "random" event where threshold is altered and music changes speed (it goes up to 2x speed). During that time period, threshold is higher so players can move faster. Then there is a chance that the game goes back to the normal state. The chance should be calculated like this: every 5 seconds, there is a 1 in 4 chance that we go from slow to fast. If we are in fast mode, every 5 seconds there is a 1 in 3 chance to go back to slow. Though, both of them should have a way to increase the chance of the shift to happen. I think it's better to think of it like this: there is 3/4 chance that we stay in the slow mode. Then after another 5 seconds there will be (3/4)^2 chance to stay in slow, then after another 5 seconds it will be (3/4)^3 to stay in slow. The same will be made with fast mode but there it will be 2/3, then (2/3)^2 and so on. This makes sure it will be really difficult for a mode to last a lot
- add a qr code on the lobby screen that redirects to the basepath/join. This will be used by players to connect
- add a settings screen (accessible from the UI) where all the more complex settings (like sensibility of movement detection) can be accessed. In the future, other settings will be accessed through this screen
- think of the best way for this application to store relevant data. Here, I'm talking about settings, which should be able to persist even when server is restarted. Of course there should be a way to flush settings in order to be able to run tests without having weird settings on. Remember to write tests to check persistence of settings works
- game should remember last used settings after game is over and keep them like this (maybe fixed by previous point)
